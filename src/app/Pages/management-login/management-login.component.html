<body>
    <div class="container-fluid">

        @if(mensajeError) {
            <div class="row justify-content-center">
                <div class="col-md-4 mt-2">
                    <div class="alert alert-danger text-center" role="alert">
                        {{ mensajeError }}
                    </div>
                </div>
            </div>
        }

        <div class="d-flex justify-content-center align-items-center vh-100">
            <div class="card transparent-card">
                <div class="card-body">
                    <img [src]="logo" alt="" class="login-img rounded-circle">
                    <h3 class="d-flex justify-content-center mb-3">Inmo-Web</h3>
                    <form [formGroup]="formLogin" (ngSubmit)="login()">
                        <div class="mb-2">
                            <label for="validacionUsuario" class="form-label">Usuario</label>
                            <input 
                                type="text" 
                                class="form-control" 
                                placeholder="Ingrese su usuario" 
                                formControlName="userName" 
                                id="validacionUsuario">
                            @if(formLogin.get('userName')?.invalid && (formLogin.get('userName')?.dirty || formLogin.get('userName')?.touched)) {
                                <div class="text-danger small mt-1">
                                    El usuario es obligatorio
                                </div>
                            }
                        </div>
            
                        <div class="mb-2">
                            <label for="validacionPassword" class="form-label">Contraseña</label>
                            <div class="input-group">
                                <input 
                                    [type]="isPasswordVisible ? 'text' : 'password'" 
                                    id="validacionPassword" 
                                    class="form-control" 
                                    placeholder="Ingrese su contraseña" 
                                    formControlName="password">
                                <button class="btn border-transparent botonPass" type="button" (click)="togglePasswordVisibility()">
                                    <i class="bi" [ngClass]="isPasswordVisible ? 'bi-eye-slash' : 'bi-eye'"></i>
                                </button>
                            </div>
                            @if(formLogin.get('password')?.invalid && (formLogin.get('password')?.dirty || formLogin.get('password')?.touched)) {

                                <div class="text-danger small mt-1">

                                    @if(formLogin.get('password')?.errors?.['required']) {
                                        La contraseña es obligatoria
                                    }

                                    @if(formLogin.get('password')?.errors?.['minlength']) {
                                        La contraseña debe tener al menos 8 caracteres
                                    }
                                </div>
                            }
                        </div>
            
                        <div class="mt-3 mb-1 d-flex justify-content-center">
                            <button class="btn button-iniciar" type="submit" [disabled]="formLogin.invalid">Iniciar Sesión</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</body>